const _0x5bcabc=_0x4d94;(function(_0x6e8eaa,_0x47c0c6){const _0x592c15=_0x4d94,_0x4ec0ca=_0x6e8eaa();while(!![]){try{const _0x1cbb73=-parseInt(_0x592c15(0x15f))/0x1+-parseInt(_0x592c15(0x17e))/0x2+-parseInt(_0x592c15(0x190))/0x3*(parseInt(_0x592c15(0x191))/0x4)+-parseInt(_0x592c15(0x183))/0x5+-parseInt(_0x592c15(0x16a))/0x6+-parseInt(_0x592c15(0x192))/0x7*(parseInt(_0x592c15(0x181))/0x8)+parseInt(_0x592c15(0x15e))/0x9*(parseInt(_0x592c15(0x163))/0xa);if(_0x1cbb73===_0x47c0c6)break;else _0x4ec0ca['push'](_0x4ec0ca['shift']());}catch(_0x161dcd){_0x4ec0ca['push'](_0x4ec0ca['shift']());}}}(_0xb52a,0x2697e));import{HttpsProxyAgent}from'https-proxy-agent';function _0xb52a(){const _0x3f4f9d=['/auth/v1/token?grant_type=password','onopen','socketURL','99pkvorY','72933uZeUVy','onclose','delay','startPing','927860DwlCwH','Error\x20during\x20WebSocket\x20onopen:\x20','pointsToday','onerror','wssReconnectAttempts','Error\x20during\x20WebSocket\x20onerror\x20handling:\x20','stopPing','603414ewnChG','POST','socket','Error\x20processing\x20WebSocket\x20message:\x20','Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.\x20Retrying\x20after\x2030\x20min','point','data','maxwssReconnectAttempts','stringify','Sending\x20PING\x20','min','startsWith','Getting\x20User\x20Information...','access_token','WebSocket\x20connection\x20closed\x20cleanly.','acc','proxy','WebSocket\x20connection\x20opened.','pointsTotal','handleError','240568fLlfbd','&version=v0.2','send','8GzRKaV','status','491610RNcolO','http','pingInterval','connectWebSocket','Attempting\x20to\x20reconnect\x20(#','Connecting\x20to\x20websocket.','refreshToken','onmessage','GET','WebSocket\x20connection\x20closed\x20unexpectedly.','parse','Received\x20message:\x20','wss://secure.ws.teneo.pro/websocket?userId=','200679lpeOJm','12GyWILN','1888467CwOhyI','reconnectWebSocket','error','PING','wasClean','message','Try\x20to\x20login...','fetch','readyState','pingCount','getUser','user','OPEN','sendPing','Error\x20in\x20connectWebSocket:\x20'];_0xb52a=function(){return _0x3f4f9d;};return _0xb52a();}import{SocksProxyAgent}from'socks-proxy-agent';import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';import _0x39249c from'../utils/logger.js';function _0x4d94(_0x1e2ed5,_0x71df19){const _0xb52a4=_0xb52a();return _0x4d94=function(_0x4d94d5,_0x5300ca){_0x4d94d5=_0x4d94d5-0x158;let _0x5ac505=_0xb52a4[_0x4d94d5];return _0x5ac505;},_0x4d94(_0x1e2ed5,_0x71df19);}import _0x357745 from'ws';export default class Core extends API{constructor(_0x26ee41,_0x2d49b4){const _0x1de948=_0x4d94;super('https://ikknngrgxuxgjhplbpey.supabase.co',_0x2d49b4),this['acc']=_0x26ee41,this[_0x1de948(0x16c)]=null,this['wssReconnectAttempts']=0x0,this[_0x1de948(0x171)]=0x5,this[_0x1de948(0x185)]=0x0,this[_0x1de948(0x16f)]={'pointsToday':0x0,'pointsTotal':0x0},this[_0x1de948(0x19b)]=0x0;}async['login'](){const _0x4b2337=_0x4d94;await Helper[_0x4b2337(0x161)](0x3e8,this[_0x4b2337(0x179)],_0x4b2337(0x198),this);const _0x124fd8=await this[_0x4b2337(0x199)](_0x4b2337(0x15b),_0x4b2337(0x16b),undefined,{'email':this[_0x4b2337(0x179)]['email'],'password':this[_0x4b2337(0x179)]['password'],'gotrue_meta_security':{}});_0x124fd8[_0x4b2337(0x182)]==0xc8?(this['token']=_0x124fd8[_0x4b2337(0x177)],this[_0x4b2337(0x189)]=_0x124fd8['refresh_token'],this['user']=_0x124fd8[_0x4b2337(0x19d)]):this[_0x4b2337(0x17d)](_0x124fd8);}async[_0x5bcabc(0x19c)](){const _0x469403=_0x5bcabc;await Helper[_0x469403(0x161)](0x3e8,this[_0x469403(0x179)],_0x469403(0x176),this);const _0x1d80ab=await this[_0x469403(0x199)]('/auth/v1/user',_0x469403(0x18b),this['token']);_0x1d80ab['status']==0xc8?this[_0x469403(0x19d)]=_0x1d80ab:this['handleError'](_0x1d80ab);}async[_0x5bcabc(0x186)](){const _0x51c2e1=_0x5bcabc;let _0x4465bb;try{await Helper[_0x51c2e1(0x161)](0x1f4,this[_0x51c2e1(0x179)],_0x51c2e1(0x188),this),this[_0x51c2e1(0x17a)]&&(this[_0x51c2e1(0x17a)][_0x51c2e1(0x175)](_0x51c2e1(0x184))&&(_0x4465bb=new HttpsProxyAgent(this[_0x51c2e1(0x17a)])),this[_0x51c2e1(0x17a)][_0x51c2e1(0x175)]('socks')&&(_0x4465bb=new SocksProxyAgent(this[_0x51c2e1(0x17a)]))),this[_0x51c2e1(0x15d)]=_0x51c2e1(0x18f)+this['user']['id']+_0x51c2e1(0x17f),this[_0x51c2e1(0x16c)]=new _0x357745(this[_0x51c2e1(0x15d)],{'agent':_0x4465bb}),this[_0x51c2e1(0x16c)][_0x51c2e1(0x15c)]=async()=>{const _0x4ed583=_0x51c2e1;try{await Helper[_0x4ed583(0x161)](0x1f4,this[_0x4ed583(0x179)],_0x4ed583(0x17b),this),this[_0x4ed583(0x167)]=0x0;}catch(_0x46d17c){_0x39249c[_0x4ed583(0x194)](_0x4ed583(0x164)+_0x46d17c);throw _0x46d17c;}},this[_0x51c2e1(0x16c)][_0x51c2e1(0x18a)]=async _0x19a6da=>{const _0xeecf98=_0x51c2e1;try{const _0x84d226=JSON[_0xeecf98(0x18d)](_0x19a6da['data']);_0x39249c['info'](_0x19a6da[_0xeecf98(0x170)]),await Helper[_0xeecf98(0x161)](0x7d0,this[_0xeecf98(0x179)],_0xeecf98(0x18e)+_0x84d226[_0xeecf98(0x197)],this),_0x84d226[_0xeecf98(0x165)]&&(this[_0xeecf98(0x16f)]={'pointsToday':_0x84d226[_0xeecf98(0x165)],'pointsTotal':_0x84d226[_0xeecf98(0x17c)]},await Helper['delay'](0x3e8,this[_0xeecf98(0x179)],'User\x20Point\x20Updated',this)),this['startPing']();}catch(_0x1cc706){_0x39249c['error'](_0xeecf98(0x16d)+_0x1cc706);throw _0x1cc706;}},this[_0x51c2e1(0x16c)][_0x51c2e1(0x166)]=async _0x4d3fb3=>{const _0x352ddc=_0x51c2e1;try{await Helper['delay'](0x1f4,this[_0x352ddc(0x179)],'WebSocket\x20error:\x20'+_0x4d3fb3,this);}catch(_0x47ca3d){_0x39249c[_0x352ddc(0x194)](_0x352ddc(0x168)+_0x47ca3d);throw _0x47ca3d;}},this[_0x51c2e1(0x16c)][_0x51c2e1(0x160)]=async _0x377151=>{const _0x5e9392=_0x51c2e1;try{_0x377151[_0x5e9392(0x196)]?await Helper[_0x5e9392(0x161)](0x1f4,this['acc'],_0x5e9392(0x178),this):await Helper[_0x5e9392(0x161)](0x1f4,this[_0x5e9392(0x179)],_0x5e9392(0x18c),this),await this[_0x5e9392(0x169)](),await this[_0x5e9392(0x193)]();}catch(_0x1461c2){_0x39249c[_0x5e9392(0x194)]('Error\x20during\x20WebSocket\x20onclose\x20handling:\x20'+_0x1461c2);throw _0x1461c2;}};}catch(_0x1fc982){_0x39249c[_0x51c2e1(0x194)](_0x51c2e1(0x15a)+_0x1fc982);throw _0x1fc982;}}async[_0x5bcabc(0x193)](){const _0x13302e=_0x5bcabc;try{if(this[_0x13302e(0x167)]<this['maxwssReconnectAttempts']){this[_0x13302e(0x167)]+=0x1;const _0x4b7799=Math[_0x13302e(0x174)](0x1388,0x3e8*this[_0x13302e(0x167)]);await Helper['delay'](_0x4b7799,this[_0x13302e(0x179)],_0x13302e(0x187)+this[_0x13302e(0x167)]+')...',this),await this[_0x13302e(0x186)]();}else await Helper[_0x13302e(0x161)](0x1b7740,this[_0x13302e(0x179)],_0x13302e(0x16e),this),await this[_0x13302e(0x186)]();}catch(_0x3c7d2a){_0x39249c[_0x13302e(0x194)]('Error\x20in\x20reconnectWebSocket:\x20'+_0x3c7d2a);throw _0x3c7d2a;}}async[_0x5bcabc(0x159)](){const _0x3101e8=_0x5bcabc;this[_0x3101e8(0x19b)]=this[_0x3101e8(0x19b)]+0x1,await Helper[_0x3101e8(0x161)](0x0,this[_0x3101e8(0x179)],_0x3101e8(0x173)+this['pingCount'],this),this['socket'][_0x3101e8(0x180)](JSON[_0x3101e8(0x172)]({'type':_0x3101e8(0x195)})),await Helper['delay'](0x2710,this[_0x3101e8(0x179)],'PING\x20'+this[_0x3101e8(0x19b)]+'\x20Sended',this);}async[_0x5bcabc(0x162)](){!this['pingInterval']&&(await Helper['delay'](0x0,this['acc'],'Starting\x20PING\x20interval,\x20Ping\x20will\x20be\x20send\x20every\x2010\x20Seconds',this),this['pingInterval']=setInterval(async()=>{const _0x2a341c=_0x4d94;this['socket']&&this[_0x2a341c(0x16c)][_0x2a341c(0x19a)]===_0x357745[_0x2a341c(0x158)]&&await this['sendPing']();},0x2710));}async[_0x5bcabc(0x169)](){const _0x23a395=_0x5bcabc;this[_0x23a395(0x185)]&&(clearInterval(this['pingInterval']),this[_0x23a395(0x185)]=null);}async[_0x5bcabc(0x17d)](_0xfad994){throw _0xfad994;}}